{{extend 'layout.html'}}

<h2>Lista de Turnos</h2>

<table id="shift_list" class="table table-responsive table-hover table-striped">
	<tr>
		<th>Formulario</th>
		<th>Fecha Turno</th>
		<th>Hora Turno</th>
		<th>DNI</th>
		<th>Apellido y Nombre/s</th>
		<th>F.Nac</th>
		<th>Sexo</th>
		<th>Estado Civil</th>
		<th>Carrera</th>
		<th>Tel. Fijo</th>
		<th>Celular</th>
		<th>Direcci√≥n</th>
		<th>Ciudad</th>
		<th>Provincia</th>
		<th>Comisaria Jurisdiccional</th>


	</tr>
{{for register in assigned_shift:}}
	<tr>
		<td>{{=register.shift_candidate.id}}</td>
		<td class="date">{{=register.shift.shift_date.strftime("%d/%m/%Y")}}</td>
		<td>{{=register.shift.shift_time}}</td>
		<td>{{=register.auth_user.username}}</td>
		<td>{{=register.auth_user.last_name + ", " + register.auth_user.first_name}}</td>
		<td class="date">{{=register.auth_user.birth_date.strftime("%d/%m/%Y")}}</td>
		<td>{{=register.auth_user.gender}}</td>
		<td>{{=register.auth_user.marital_status}}</td>
		<td>{{=register.auth_user.career}}</td>
		<td>{{=register.auth_user.phone}}</td>
		<td>{{=register.auth_user.mobile_phone}}</td>
		<td style=" mso-number-format:\@;">{{=register.auth_user.address}}</td>
		<td>{{=register.auth_user.city}}</td>
		<td>{{=register.auth_user.province}}</td>
		<td>{{=register.auth_user.police_station}}</td>
	</tr>
{{pass}}
</table>

{{block script}}
	<script src="{{=URL('static','js/xlsx.core.min.js')}}"></script>
	<script src="{{=URL('static','js/FileSaver.min.js')}}"></script>
	<script src="{{=URL('static','js/tableexport.min.js')}}"></script>
	
  
	<script>
		TableExport(document.getElementsByTagName("table"), {
    		headers: true,                              // (Boolean), display table headers (th or td elements) in the <thead>, (default: true)
    		footers: false,                              // (Boolean), display table footers (th or td elements) in the <tfoot>, (default: false)
    		formats: ['xlsx', 'csv'],             // (String[]), filetype(s) for the export, (default: ['xls', 'csv', 'txt'])
    		filename: 'ListaDeInscriptos',                             // (id, String), filename for the downloaded file, (default: 'id')
    		bootstrap: true,                           // (Boolean), style buttons using bootstrap, (default: true)
    		exportButtons: true,                        // (Boolean), automatically generate the built-in export buttons for each of the specified formats (default: true)
    		position: 'top',                         // (top, bottom), position of the caption element relative to table, (default: 'bottom')
    		ignoreRows: null,                           // (Number, Number[]), row indices to exclude from the exported file(s) (default: null)
    		ignoreCols: null,                           // (Number, Number[]), column indices to exclude from the exported file(s) (default: null)
    		trimWhitespace: true                        // (Boolean), remove all leading/trailing newlines, spaces, and tabs from cell text in the exported file(s) (default: false)
});
	</script>

{{end}}